<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX</title>
</head>
<body>
    <h1>Country</h1>
    <div id="hasil"></div>
    <button id="button" onclick="loadContent()">Load Content</button>
    <button id="button" onclick="clearResult()">Clear Result</button>
    <div class="div2"></div>

    <table>
        <tr>
            <th>Country Id</th>
            <th>Country Name</th>
            <th>Region Id</th>
        </tr>
        <tr>
        </tr>
    </table>
            <script>
            function loadContent(){
            var xhr = new XMLHttpRequest();
            var url = "http://localhost:9090/country/findAll";

            
            function buildTable(rows){
                var table = document.createElement('table');
                    table.classList.add('tbl');
                    document.querySelector('.div2').appendChild(table);
                    json.forEach(({ author, language }) => {

                    let row = table.insertRow()

                    row.insertCell().innerText = author
                    row.insertCell().innerText = language
                    })
                    
            }
            
            
            xhr.onreadystatechange = function(){
                if(this.readyState==4 && this.status==200){
                    buildTable(JSON.parse(this.responseText));
                }
            };
            
            xhr.open("GET",url,true);
            xhr.send();

        }
        function clearResult(){
            document.getElementById("hasil").innerHTML = "";
        }
            </script>



</body>
</html>